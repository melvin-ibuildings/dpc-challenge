{"version":3,"sources":["Box.ts","Bullet.ts","Player.ts","Collider.ts","AudioPlayer.ts","State.ts","index.ts"],"names":[],"mappings":";;;;AAEA,IAAA,MAAA,aAAA,YAAA;AAOI,aAAA,GAAA,CAAY,OAAZ,EAAqC,CAArC,EAAgD,CAAhD,EAA2D,CAA3D,EAAsE,CAAtE,EAA+E;AAC3E,ACVR,IAAA,SDUa,ACVb,ODUQ,GAAe,GCVvB,IDUQ,QCVR;ADWQ,ACNJ,aDMS,ACNT,CDMI,GAAS,CAAT,CCNJ,CAAY,OAAZ,EAA8B,CAA9B,EAAyC,CAAzC,EAAkD;ADO9C,ACNA,ACNR,IAAA,SFYa,ACNA,CDML,ACNA,CCNR,EFYiB,ACNA,CDMT,ACNA,KCNR,UAAA,CAAA;AFaQ,ACNA,ACHR,IAAA,SFSa,ACNA,ACHb,CFSQ,ACNA,GDMS,ACNA,CDMT,ACNA,QCHR,YAAA;AFUQ,ACNA,AELR,ADkBI,IClBJ,SHWa,ACNA,ACaT,CFPI,CGXR,EHWiB,CAAT,CEOJ,CDbI,ACaQ,GDbO,CAAf,GCaJ,CClBJ,CDkByC,CAArC,EAAgD,CAAhD,EAA2D,CAA3D,EAAsE,CAAtE,CClBJ,CDkBqF,IAAjF,EAAkG;AFNjG,ACNG,AENR,ADmBQ,aDbK,AENb,ADmBa,CAAL,GAAS,CAAT,EDbA,CENR,EFMuB,CENvB,CA6CC,KFvCO;AGTR,AJiBI,ACPC,AEND,ADmBI,IEvBR,IJiBI,KGbA,ADmBS,CAAL,GFNJ,AEMa,CEvBjB,AJiBI,AEMI,ICnBJ,CAAA,EHaA,GAAA,EGbA,CCJJ,EDII,KHaQ,KIjBZ,AJiBI,AGbQ,EHagB,GGbxB,EAA0B,KAA1B,EAA4C;ACD5C,AJeI,ACNJ,AEPW,ADmBP,WDZJ,CEPW,CCFX,AJeS,AEMA,IAAL,GFNA,ACNJ,ACYgB,CFNC,ACNjB,AEPW,GCFX,AFqBI,CErBQ,CJeR,CAAmB,AGbZ,CFOX,CGTA,EAAwB,AJepB,ACNJ,EEPW,CHamB,KAAK,CAAL,CCNtB,EDM+B,GCNvC,CDMI,CCNS;AGRT,AJeA,ACLA,AETO,ADqBP,AG1BR,IAAA,QJcY,AETW,CCDV,AJeA,AEOA,GG1Bb,CJciB,CGVT,AHUI,EDKJ,CIfa,AJeA,ACLA,CETE,GCDE,CJejB,ACLkB,ACYlB,CFPmB,CGdJ,CDqBM,AG1B7B,CDIqB,AJeb,CIfuB,AFsBvB,EFPyB,ACLrB,EGVS,ADCN,CCDP,AHU4B,EDKE,CAAL,CCLzB,CIdR,CLmB0C,ACLA,CAEjC,CAFD,EDKA,ICHO;AGXV,AJeA,ACHO,AEXJ,ADqBA,AG3BR,KLiBI,QEUS,AG3Bb,CFMc,GFWG,CAAL,IAAS,AIjBrB,CJiBY,ACUJ,EG3BR,CFMQ,ADqBkB,CAAlB,ECrBqB,KAArB;ACCJ,AJcJ,ACHS,AEXD,ADuBA,AG7BG,WLoBX,EESa,AG7BF,CLoBX,AGdc,ECAV,CCNO,GH6BH,AG7BiB,EAAd,CH6BY,EEvBnB,CAAA,IAAA,ADAI,ADuBA,GEvBJ,ADA6B,SAAzB,GCAJ;AACI,AJNR,ACkBQ,AEXA,ADsBA,AG7BG,CLAX,EAAA,UIMa,AHYA,ACWA,AG7BF,CFOG,ADsBN,GAAS,AG7BN,CDMH,AFuBA,CEvBW,CHYX,AIlBmB,CJkBN,EGZb,ECNG,CJkBH,CAAmB,AEXnB,GFWA,AEXsB,GFWG,EEXzB,GFW8B,CAAL,GAAS,IAAlC;AGXH,AJPQ,ACmBL,AEXA,ADsBA,AG7BG,ACHX,IAAA,CFOI,GJLS,GAAA,CMFb,CLqBa,ACWA,AG7BF,CLDE,AGQC,ADsBN,GF9BK,AE8BI,CAAT,AG7BG,EJkBH,AKrBR,CLqBqB,AIlBO,KJkBpB,AIlBG,CJkBgB,AKrB3B,CAAA,EHUQ,CFWA,EEXyB,CFWC,KAAK,CAAL,EEX1B,CFWmC,IAAnC;AGXR,AHYK,AEVG,ADqBA,AG7BG,ACHX,IAAA,CLWI,MGFJ,EFuBa,AG7BF,CFQG,CERH,ACHX,GDGyB,GH6BjB,CEvBR,CCNW,ACHX,CHWQ,ADqBgB,GCrBG,KAAnB,CGXR,CAAA;AFDA,AHuBI,AEVI,ADqBI,AG7BD,ACHX,CFFA,EAAA,CEEA,OLqBI,EIlBO,CFQG,CDqBC,CADS,CG5Bb,ACHX,GLqBI,AIlBuB,CJkBvB,IIlBO,ACHX,GHWQ,GAAuB,GFU3B,GAAA,AKrBJ,CAAA,EHWQ,SFUJ;AGvBS,AHwBL,AETA,ADoBI,AG7BD,ACHX,IAAA,IFHa,KCMF,CFSG,CFSE,ACWD,GG7BJ,CDNE,CHwBQ,AKrBrB,CLqBgB,AIlBY,CDNf,EHwBY,EETjB,AETG,ECHX,CLqB8B,AETD,ICfhB,CDeL,EFSQ,GAAwB,IAAhC,AKrBR,CAAA;ALsBK,AETG,ADiBgB,AG1Bb,ACHX,IAAA,CLmBI,ICUI,IG1BG,CFSG,AGZd,KDGW,GAAc,ACHzB,IDGW,IFSH,CGZR,CAAA,CHYiC,SAAzB;AFWJ,AETI,ADoBA,AG9BG,ACFX,IAAM,OLqBF,AKrBS,EJgCA,AG9BF,GFUK,EDoBR,EDXJ,AKrBE,CLqBF,ACWiB,ECpBb,CAAgB,AGZX,CDEF,ECFE,CLqBT,AInB+B,GJmB/B,EInBO,CFUa,MAAA,EAAM,CFS1B;AACI,AETI,ADoBA,AG9BD,ACFP,QAAM,KLqBG,AInBF,EH8BI,CCnBC,ADkBK,IDVb,CAAa,EERE,CAAP,AGbU,GHaE,EEXjB,EJmBH,CAAwB,AInBO,CCFJ,CHaA,CAAP,EEXjB,CFW4B,KFQ/B,CAAoC,CERE,CAA9B,AGbU,CAAuB,ELqBA,CEP7B,EGdM,CAAtB,GLqBI,CEPmB,CAAP,GAAW,OAAO,CAAnB,GAAwB,OAAO,CADlC,IAEG,OAAO,CAAP,GAAY,OAAO,CAAP,GAAW,OAAO,CAFjC,IAGI,OAAO,CAAP,GAAW,OAAO,CAAnB,GAAwB,OAAO,CAJtC,EAKE;AFI4C,AEH1C,ADeJ,AG9BD,ACFP,aDEO,EH8BI,GIhCG,IHiBI,CGjBlB,CAAoB,EHiBR,AEfL,GAAyB,KAAzB,ACFP,GAAiC,KAAjC;ALqBC,AEHW,ADYK,AG3BV,ACFP,KLkBA,ICWI,IG3BG,KCFO,EHiBE,GGjBhB,CAAoB,GHiBG,GEfhB,ECFP,CDEoC,EFepB,AGjBe,CHiBC,CAAhB,CEfT,EFe6B,CAApB,IAAyB,AGjBzC,OHiBgD,CAAP,IAAY,OAAO,CAAhD,EAAmD;AFKnE,AEJoB,ADgBZ,AG/BG,ACFP,WLqBJ,ECYa,AG/BF,IJmBX,CKrBkB,KDEP,ACFP,CAAoB,CJiChB,CChBkB,AEfO,EH+BL,CIjCxB,EDEO,CCFqB,MHiBZ,AGjBhB,GHiBqC,IAArB;AF3BpB,AE4BoB,ADgBR,AG/BD,ACFP,CLXJ,EAAA,UIaW,EH+BI,CADa,EIhCV,KAAd,CAAoB,EHiBE,CEff,GAA0B,ACFjC,GAA6B,EDEtB,ICFP,GHiBgB,GAAyB,MAAzB;AF5BP,AE6BI,ADgBL,AG/BD,ACFP,QLZS,KIcF,CJdE,CC6CE,ED7CF,CKYK,KLZL,AKYT,CAAoB,CDEb,ECFP,CDE+B,ECFL,GDEnB,ECFP;AHkBY,ADaY,AG5BjB,ACDP,QAAM,CJ6BF,IG5BG,OFeS,EGhBI,KHgBG,EEfhB,ECDsB,CDCM,GFenB,CAAgB,CAAhB,AEfT,GFe6B,CAApB,GGhBI,CHgBqB,AGhBE,KAAvB,CAApB,CHgBgD,CAAP,IAAY,OAAO,CAAhD,EAAmD;AAC/C,ADiBZ,AGhCG,ACDP,aJiCS,AGhCF,GCDK,IDCL,CHgCH,AIjCJ,CAAkB,CDCM,CHgCJ,CGhCb,CFee,MGhBtB,GAA+B,IHgBf,GAAsB,AGhBtC,IHgBgB;AACA,ADiBR,AGhCX,ACDG,eJiCW,CIjCC,EJgCQ,GIhCpB,CAAkB,IHgBI,IGhBtB,GAA6B,UHgBb,AGhBhB,GHgB0C,MAA1B;AACH,ADiBL,AGjCZ,ACAI,WDAJ,IHiCe,CIjCC,IDAhB,CCAI,CAAkB,KAAlB,GAA0B,MAA1B;AHkBY,ADaQ,AGhDxB,ACkBI,CDlBJ,EAAA,MHgDQ,OI9BQ,IHiBI,CGjBhB,CAAkB,KHiBK,CGjBvB,GAA2B,IHiBX,CAAgB,CAAhB,AGjBhB,GHiBoC,CAApB,IAAyB,OAAO,CAAP,IAAY,OAAO,CAAhD,EAAmD;AAC/C,ADiBZ,AGrDK,ACoBT,QDpBS,ACoBH,KJiCG,IGrDA,GHqDL,AGrDK,ECoBW,CJiCD,EAAf,CCjBkB,GEpCb,ECoBoB,OHgBb,GAAqB,GGhBjB,CHgBJ,AGhB2B,KAAvB,CAApB;AHiBgB,ADiBf,AIjCD,gBAAY,KAAZ,CAAkB,IHgBI,MGhBtB,GAA+B,OHgBf,AGhBhB,GHgByC,MAAzB;AACH,ADkBb,AIlCA,WJkCA,KIlCY,IJkCZ,CAAA,AIlCA,CAAkB,IJkClB,GAAA,CIlCA,GAA6B,QJkC7B,EIlCA;AHkBY,ADiBR,AIlCJ,aJkCS,GIlCG,CJkCR,CAAU,ECjBE,CGjBhB,CJkCI,AIlCc,KHiBK,AGjBvB,GAA0B,KHiBV,CAAgB,AGjBhC,CHiBgB,GAAoB,CAApB,IAAyB,OAAO,CAAP,IAAY,OAAO,CAAhD,EAAmD;AAC/C,ADiBZ,AIlCJ,YJkCQ,IIlCI,KAAZ,CAAkB,IHiBI,EDiBE,AIlCxB,GAA2B,KHiBX,CDiBiB,AIlCjC,EHiBmC,IAAnB,ODiBQ,CAAuB,KAAvB,CAApB;AChBY,ADiBZ,AIlCJ,QAAM,aAAa,CJkCD,ICjBI,CDiBlB,CAAoB,EIlCI,QJkCxB,ECjBY,CDiBqB,ECjBE,AGjBpB,CAAuB,IJkCtC,CCjBY,CGjBG,CAAnB;AHkBa,ADiBT,AIjCJ,eAAW,OJiCO,IIjClB,CJiCI,AIjCmB,CJiCC,QAApB,GAA+B,CIjCnC,SJiCI;AChBK,ADiBL,AIjCJ,eAAW,OJiCO,IIjClB,CJiCI,AIjCmB,CJiCC,KAApB,GAA4B,EIjChC,EJiCI;AChBC,ADiBD,AIjCJ,SHXI,MGWO,OJiCO,IIjClB,CJiCI,AIjCmB,CJiCC,MAApB,GAA6B,CIjCjC,KJiCI;AChBH,ADiBG,AIhCJ,KH3BA,MG2BO,WJgCW,KAAd,CAAoB,YAApB,GAAmC,MAAnC;ACjBH,ADkBG,AIhCA,aJgCK,OAAL,CAAa,EIhCA,QJgCb,CAAwB,IIjCrB,OJiCH,CAAoC,aAApC;AChBR,ADkBQ,AIjCA,WHeR,EDkBa,MClBb,CDkBQ,AIjCU,CJiCG,IAAb,CAAkB,IAAI,AInCnB,SJmCmB,MAAJ,CAAW,aAAX,EAA0B,KAAK,CAA/B,EAAkC,KAAK,CAAvC,CAAlB;AC/DR,ADgEK,AIjCG,CH/BR,EAAA,EDqDI,gBItBe,WAHR;AH5BE,ADkET,AIlCI,QHhCK,GDkET,KClES,GAAA,CDkET,CAAA,AIlCe,MHhCN,CDkET,GAAA,UAAQ,KAAR,EAAwB;AAAxB,AItCO,KAAP,OJsCA,QAAA,IAAA;AAEQ,AIlCX,CA/BD,WJiEY,OAAA,MAAA,IAAA;AAAA,AIhCZ,IAAM,QJiCM,AIjCa,IAAI,QAAA,GJiCjB,MAAA,AIjCa,EAAzB,UJgCY;AAAA,AI9BZ,IAAM,QJgCM,CIhCG,SAAT,MAAS,GJgCH,AIhCG,MJgCH,gBAFA;AAAA,AI7BR,WAAO,CJgCC,eIhCR,CJgCQ,AIhCg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","file":"gjx.5176daff.map","sourceRoot":"..","sourcesContent":["import {GameState} from \"./State\";\n\nexport class Box {\n    private element: HTMLDivElement;\n    private x: number;\n    private y: number;\n    private w: number;\n    private h: number;\n\n    constructor(element: HTMLDivElement, x: number, y: number, w: number, h: number) {\n        this.element = element;\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n    }\n\n    animate(state: GameState) {\n        this.element.style.left = this.x + \"px\";\n        this.element.style.top = this.y + \"px\";\n    }\n}\n","export class Bullet {\n    private element: Element;\n    private x: Number;\n    private initalX: Number;\n    private y: Number;\n    constructor(element: Element, x: Number, y: Number) {\n        this.x = x;\n        this.y = y;\n        this.initalX = x;\n        this.element = element;\n    }\n\n    animate(state) {\n\n        if (this.x - this.initalX > 2300) {\n\n        } else {\n            this.x +=5;\n        }\n\n        this.element.style.top = this.y + \"px\";\n        this.element.style.left = this.x + \"px\";\n    }\n    shouldDestroy() {\n        return (this.x - this.initalX > 2300);\n    }\n\n    destroy() {\n        this.element.parentNode.removeChild(this.element);;\n    }\n\n}\n","import {Bullet} from \"./Bullet\";\nimport {AudioPlayer} from \"./AudioPlayer\";\nimport {GameState} from \"./State\";\n\nexport class Player {\n    private h: number;\n    private w: number;\n    private x: number;\n    private y: number;\n\n    private readonly bulletTimeout: number;\n    private readonly velocity: { x: number; y: number };\n    private readonly limit: { x: number; y: number };\n    private readonly acceleration: { x: number; y: number };\n    private readonly friction: { x: number; y: number };\n\n    private shot: AudioPlayer;\n    private bulletTime: number;\n    private element: HTMLDivElement;\n    private bullets: Bullet[];\n\n    constructor(element: HTMLDivElement, x: number, y: number, w: number, h: number, shot: AudioPlayer) {\n        this.h = h;\n        this.w = w;\n        this.shot = shot;\n\n        this.bulletTimeout = 10;\n        this.bulletTime = 0;\n\n\n        this.element = element;\n        this.x = x;\n        this.y = y;\n        this.velocity = {\n            x: 0,\n            y: 0,\n        };\n\n        this.limit = {\n            x: 8,\n            y: 8,\n        };\n\n        this.acceleration = {\n            x: 2,\n            y: 2,\n        };\n\n        this.friction = {\n            x: 0.9,\n            y: 0.9,\n        };\n\n        this.bullets = [];\n    }\n\n    shoot(): void {\n        this.shot.play();\n        let bulletElement = document.createElement(\"div\");\n        bulletElement.style.background = \"green\";\n        bulletElement.style.position = \"absolute\";\n        bulletElement.style.width = \"12\";\n        bulletElement.style.height = \"12px\";\n        bulletElement.style.borderRadius = \"100%\";\n        this.element.parentNode.appendChild(bulletElement);\n\n        this.bullets.push(new Bullet(bulletElement, this.x, this.y));\n    }\n\n    animate(state: GameState): void {\n        const {\n            keys,\n            collidesLeft,\n            collidesLeftWith,\n            collidesRight,\n            collidesRightWith,\n            collidesUp,\n            collidesUpWith,\n            collidesDown,\n            collidesDownWith,\n        } = state;\n\n        if (this.bullets.length > 0) {\n            this.bullets.forEach((object: Bullet, idx: Number) => {\n                    object.animate(state);\n                    if (object.shouldDestroy()) {\n                        object.destroy();\n                        this.bullets.splice(idx, 1);\n                    }\n                }\n            )\n        }\n\n        if (this.bulletTime > 0) {\n            this.bulletTime--;\n        }\n        if ((keys[32] || state.shoot) && this.bulletTime === 0) {\n            this.bulletTime = this.bulletTimeout;\n            this.shoot();\n        }\n\n        if (keys[37] && state.keys[39]) {\n\n        }\n        else if (keys[37] || state.left) {\n            this.velocity.x = Math.max(\n                this.velocity.x - this.acceleration.x,\n                this.limit.x * -1,\n            );\n        }\n        else if (keys[39] || state.right) {\n            this.velocity.x = Math.min(\n                this.velocity.x + this.acceleration.x,\n                this.limit.x,\n            );\n        }\n\n        if (keys[38] && state.keys[40]) {\n\n        }\n        else if (keys[38] || state.up) {\n            this.velocity.y = Math.max(\n                this.velocity.y - this.acceleration.y,\n                this.limit.y * -1,\n            );\n        }\n        else if (keys[40] || state.down) {\n            this.velocity.y = Math.min(\n                this.velocity.y + this.acceleration.y,\n                this.limit.y,\n            );\n        }\n\n        if (this.velocity.x < 0 && collidesLeft || this.velocity.x > 0 && collidesRight) {\n            if (collidesLeftWith && this.y <= collidesLeftWith.y || collidesRightWith && this.y < collidesRightWith.y) {\n                this.velocity.y -= this.friction.y;\n            } else {\n                this.velocity.y += this.friction.y;\n            }\n        } else {\n            this.velocity.x *= this.friction.x;\n            this.x += this.velocity.x;\n        }\n\n        if (this.velocity.y < 0 && collidesUp || this.velocity.y > 0 && collidesDown) {\n            if (collidesUpWith && this.x <= collidesUpWith.x || collidesDownWith && this.x < collidesDownWith.x) {\n                this.velocity.x -= this.friction.x;\n            } else {\n                this.velocity.x += this.friction.x;\n            }\n        } else {\n            this.velocity.y *= this.friction.y;\n            this.y += this.velocity.y;\n        }\n\n        this.element.style.top = this.y + \"px\";\n        this.element.style.left = this.x + \"px\";\n    }\n\n}","import {GameState} from \"./State\";\nimport {AudioPlayer} from \"./AudioPlayer\";\n\nexport class Collider {\n    collide(state: GameState, sound: AudioPlayer): void {\n        const {player, objects} = state;\n        state.collidesLeft = false;\n        state.collidesLeftWith = undefined;\n\n        state.collidesRight = false;\n        state.collidesLeftWith = undefined;\n\n        state.collidesUp = false;\n        state.collidesUpWith = undefined;\n\n        state.collidesDown = false;\n        state.collidesDownWith = undefined;\n\n        objects.forEach(object => {\n            if (\n                player.x < (object.x + object.w)\n                && (player.x + player.w) > object.x\n                && player.y < (object.y + object.h)\n                && (player.y + player.h) > object.y\n            ) {\n                sound.play();\n                if (player.velocity.x < 0 && object.x <= player.x) {\n                    state.collidesLeft = true;\n                    state.collidesLeftWith = object;\n                }\n                if (player.velocity.x > 0 && object.x >= player.x) {\n                    state.collidesRight = true;\n                    state.collidesRightWith = object;\n                }\n\n                if (player.velocity.y > 0 && object.y >= player.y) {\n                    state.collidesDown = true;\n                    state.collidesDownWith = object;\n                }\n\n                if (player.velocity.y < 0 && object.y <= player.y) {\n                    state.collidesUp = true;\n                    state.collidesUpWith = object;\n                }\n            }\n        })\n    };\n\n}","export class AudioPlayer {\n    private audio: HTMLAudioElement;\n\n    constructor(file: string) {\n        this.audio = new Audio(file);\n    }\n\n    play() {\n        this.audio.play();\n    }\n}","export class GameState {\n    public keys: Array = [];\n    public left: boolean = false;\n    public right: boolean = false;\n    public up: boolean = false;\n    public down: boolean = false;\n    public shoot: boolean = false;\n    public player: any = null;\n    public collidesLeft: boolean = false;\n    public collidesLeftWith: boolean = false;\n    public collidesRight: boolean = false;\n    public collidesRightWith: boolean = false;\n    public collidesUp: boolean = false;\n    public collidesUpWith: boolean = false;\n    public collidesDown: boolean = false;\n    public collidesDownWith: boolean = false;\n    public objects: Array = [];\n}","import {Box} from \"./Box\";\nimport {Player} from \"./Player\";\nimport {Collider} from \"./Collider\";\nimport {AudioPlayer} from \"./AudioPlayer\";\nimport {GameState} from \"./State\";\n\nconst init = () => {\n    const playerElement = document.createElement(\"div\");\n    playerElement.style.background = 'red';\n    playerElement.style.position = 'absolute';\n    playerElement.style.width = '64px';\n    playerElement.style.height = '64px';\n    playerElement.style.top = '50%';\n\n    const boxElement1 = document.createElement(\"div\");\n    boxElement1.style.background = \"green\";\n    boxElement1.style.position = \"absolute\";\n    boxElement1.style.width = \"64px\";\n    boxElement1.style.height = \"64px\";\n\n    const boxElement2 = document.createElement(\"div\");\n    boxElement2.style.background = \"green\";\n    boxElement2.style.position = \"absolute\";\n    boxElement2.style.width = \"64px\";\n    boxElement2.style.height = \"64px\";\n    const appElement = document.querySelector(\".app\");\n\n    appElement.appendChild(playerElement);\n    appElement.appendChild(boxElement1);\n    appElement.appendChild(boxElement2);\n\n    return {\n        playerElement,\n        appElement,\n        boxElement1,\n        boxElement2\n    }\n};\n\nconst state: GameState = new GameState();\n\nconst listen = () => {\n    window.addEventListener(\"keyup\", e => {\n        state.keys[e.which] = false;\n        console.log(e.which);\n    });\n    window.addEventListener(\"keydown\", e => {\n        state.keys[e.which] = true;\n    });\n};\n\nconst {playerElement, boxElement1, boxElement2} = init();\n\nconst shot = new AudioPlayer('laser.mp3');\nconst crash = new AudioPlayer('crash.mp3');\nconst player = new Player(playerElement, window.innerWidth / 2, window.innerHeight / 2, 64, 64, shot);\nconst box = new Box(boxElement1, 300, (window.innerHeight / 2) - 128, 64, 64);\nconst box2 = new Box(boxElement2, (window.innerWidth - 300), (window.innerHeight / 2) + 128, 64, 64);\n\nconst collider = new Collider();\nstate.player = player;\nstate.objects = [\n    box,\n    box2,\n];\n\nconst buttonPressed = (b) => {\n    if (typeof(b) === \"object\") {\n        return b.pressed;\n    }\n    return b === 1.0;\n};\n\n\nconst gamepads = navigator.getGamepads ? navigator.getGamepads() : (navigator.webkitGetGamepads ? navigator.webkitGetGamepads : []);\nconst animate = () => {\n    if (gamepads && gamepads[0] !== null) {\n        let gp = gamepads[0];\n\n        state.shoot = !!buttonPressed(gp.buttons[0]);\n\n        if (gp.axes[0] === 1) {\n            state.right = true;\n            state.left = false;\n        } else if (gp.axes[0] === -1) {\n            state.left = true;\n            state.right = false;\n        } else {\n            state.right = false;\n            state.left = false;\n        }\n\n        if (gp.axes[1] === 1) {\n            state.down = true;\n            state.up = false;\n        } else if (gp.axes[1] === -1) {\n            state.up = true;\n            state.down = false;\n        } else {\n            state.up = false;\n            state.down = false;\n        }\n    }\n\n    requestAnimationFrame(animate);\n    collider.collide(state, crash);\n    player.animate(state);\n    box.animate(state);\n    box2.animate(state);\n};\n\nanimate();\nlisten();"]}