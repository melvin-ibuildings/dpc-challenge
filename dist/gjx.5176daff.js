parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&"string"==typeof n)return f(n);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u="function"==typeof parcelRequire&&parcelRequire,f="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({3:[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e,s,i,n){this.element=t,this.x=e,this.y=s,this.w=i,this.h=n}return t.prototype.animate=function(t){this.element.style.left=this.x+"px",this.element.style.top=this.y+"px"},t}();exports.Box=t;
},{}],8:[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e,i){this.x=e,this.y=i,this.initalX=e,this.element=t}return t.prototype.animate=function(t){this.x-this.initalX>2300||(this.x+=5),this.element.style.top=this.y+"px",this.element.style.left=this.x+"px"},t.prototype.shouldDestroy=function(){return this.x-this.initalX>2300},t.prototype.destroy=function(){this.element.parentNode.removeChild(this.element)},t}();exports.Bullet=t;
},{}],4:[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("./Bullet"),i=function(){function i(t,i,e,s,l,h){this.h=l,this.w=s,this.shot=h,this.bulletTimeout=10,this.bulletTime=0,this.element=t,this.x=i,this.y=e,this.velocity={x:0,y:0},this.limit={x:8,y:8},this.acceleration={x:2,y:2},this.friction={x:.9,y:.9},this.bullets=[]}return i.prototype.shoot=function(){this.shot.play();var i=document.createElement("div");i.style.background="green",i.style.position="absolute",i.style.width="12",i.style.height="12px",i.style.borderRadius="100%",this.element.parentNode.appendChild(i),this.bullets.push(new t.Bullet(i,this.x,this.y))},i.prototype.animate=function(t){var i=this,e=t.keys,s=t.collidesLeft,l=t.collidesLeftWith,h=t.collidesRight,o=t.collidesRightWith,y=t.collidesUp,c=t.collidesUpWith,n=t.collidesDown,x=t.collidesDownWith;this.bullets.length>0&&this.bullets.forEach(function(e,s){e.animate(t),e.shouldDestroy()&&(e.destroy(),i.bullets.splice(s,1))}),this.bulletTime>0&&this.bulletTime--,(e[32]||t.shoot)&&0===this.bulletTime&&(this.bulletTime=this.bulletTimeout,this.shoot()),e[37]&&t.keys[39]||(e[37]||t.left?this.velocity.x=Math.max(this.velocity.x-this.acceleration.x,-1*this.limit.x):(e[39]||t.right)&&(this.velocity.x=Math.min(this.velocity.x+this.acceleration.x,this.limit.x))),e[38]&&t.keys[40]||(e[38]||t.up?this.velocity.y=Math.max(this.velocity.y-this.acceleration.y,-1*this.limit.y):(e[40]||t.down)&&(this.velocity.y=Math.min(this.velocity.y+this.acceleration.y,this.limit.y))),this.velocity.x<0&&s||this.velocity.x>0&&h?l&&this.y<=l.y||o&&this.y<o.y?this.velocity.y-=this.friction.y:this.velocity.y+=this.friction.y:(this.velocity.x*=this.friction.x,this.x+=this.velocity.x),this.velocity.y<0&&y||this.velocity.y>0&&n?c&&this.x<=c.x||x&&this.x<x.x?this.velocity.x-=this.friction.x:this.velocity.x+=this.friction.x:(this.velocity.y*=this.friction.y,this.y+=this.velocity.y),this.element.style.top=this.y+"px",this.element.style.left=this.x+"px"},i}();exports.Player=i;
},{"./Bullet":8}],5:[function(require,module,exports) {
"use strict";exports.__esModule=!0;var l=function(){function l(){}return l.prototype.collide=function(l,i){var o=l.player,e=l.objects;l.collidesLeft=!1,l.collidesLeftWith=void 0,l.collidesRight=!1,l.collidesLeftWith=void 0,l.collidesUp=!1,l.collidesUpWith=void 0,l.collidesDown=!1,l.collidesDownWith=void 0,e.forEach(function(e){o.x<e.x+e.w&&o.x+o.w>e.x&&o.y<e.y+e.h&&o.y+o.h>e.y&&(i.play(),o.velocity.x<0&&e.x<=o.x&&(l.collidesLeft=!0,l.collidesLeftWith=e),o.velocity.x>0&&e.x>=o.x&&(l.collidesRight=!0,l.collidesRightWith=e),o.velocity.y>0&&e.y>=o.y&&(l.collidesDown=!0,l.collidesDownWith=e),o.velocity.y<0&&e.y<=o.y&&(l.collidesUp=!0,l.collidesUpWith=e))})},l}();exports.Collider=l;
},{}],6:[function(require,module,exports) {
"use strict";exports.__esModule=!0;var o=function(){function o(o){this.audio=new Audio(o)}return o.prototype.play=function(){this.audio.play()},o}();exports.AudioPlayer=o;
},{}],7:[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){return function(){this.keys=[],this.left=!1,this.right=!1,this.up=!1,this.down=!1,this.shoot=!1,this.player=null,this.collidesLeft=!1,this.collidesLeftWith=!1,this.collidesRight=!1,this.collidesRightWith=!1,this.collidesUp=!1,this.collidesUpWith=!1,this.collidesDown=!1,this.collidesDownWith=!1,this.objects=[]}}();exports.GameState=t;
},{}],2:[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.__esModule=!0;var t=require("./Box"),n=require("./Player"),o=require("./Collider"),i=require("./AudioPlayer"),r=require("./State"),a=function(){var e=document.createElement("div");e.style.background="red",e.style.position="absolute",e.style.width="64px",e.style.height="64px",e.style.top="50%";var t=document.createElement("div");t.style.background="green",t.style.position="absolute",t.style.width="64px",t.style.height="64px";var n=document.createElement("div");n.style.background="green",n.style.position="absolute",n.style.width="64px",n.style.height="64px";var o=document.querySelector(".app");return o.appendChild(e),o.appendChild(t),o.appendChild(n),{playerElement:e,appElement:o,boxElement1:t,boxElement2:n}},l=new r.GameState,d=function(){window.addEventListener("keyup",function(e){l.keys[e.which]=!1,console.log(e.which)}),window.addEventListener("keydown",function(e){l.keys[e.which]=!0})},s=a(),u=s.playerElement,p=s.boxElement1,y=s.boxElement2,m=new i.AudioPlayer("laser.mp3"),w=new i.AudioPlayer("crash.mp3"),c=new n.Player(u,window.innerWidth/2,window.innerHeight/2,64,64,m),h=new t.Box(p,300,window.innerHeight/2-128,64,64),b=new t.Box(y,window.innerWidth-300,window.innerHeight/2+128,64,64),g=new o.Collider;l.player=c,l.objects=[h,b];var f=function(t){return"object"===(void 0===t?"undefined":e(t))?t.pressed:1===t},v=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads:[],x=function e(){if(v&&null!==v[0]){var t=v[0];l.shoot=!!f(t.buttons[0]),1===t.axes[0]?(l.right=!0,l.left=!1):-1===t.axes[0]?(l.left=!0,l.right=!1):(l.right=!1,l.left=!1),1===t.axes[1]?(l.down=!0,l.up=!1):-1===t.axes[1]?(l.up=!0,l.down=!1):(l.up=!1,l.down=!1)}requestAnimationFrame(e),g.collide(l,w),c.animate(l),h.animate(l),b.animate(l)};x(),d();
},{"./Box":3,"./Player":4,"./Collider":5,"./AudioPlayer":6,"./State":7}]},{},[2], null)
//# sourceMappingURL=/gjx.5176daff.map